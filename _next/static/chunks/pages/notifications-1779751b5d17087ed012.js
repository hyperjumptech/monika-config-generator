(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{4048:function(e,n,i){"use strict";i.d(n,{c:function(){return o}});var r=i(6156),t=i(7294);function a(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function l(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?a(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function o(e){var n=e.initialValues,i=(0,t.useState)(n),a=i[0],o=i[1];return{values:a,setFieldValue:function(e,n){o((function(i){return l(l({},i),{},(0,r.Z)({},e,n))}))}}}},8485:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return p}});var r=i(5893),t=i(7329),a=i(7294),l=i(1163),o=i(4586),s=i(7625),u=i(1436),d=i(3107),c=i(4048),m=i(7874);function p(){var e=(0,l.useRouter)(),n=(0,c.c)({initialValues:{notificationChannel:"email",recipients:[{id:(0,o.Z)(),email:""}]}}),i=(0,a.useContext)(m.u).handleSetNotifications,t=n.values,s=n.setFieldValue,u=t.notificationChannel;return(0,r.jsxs)(d.Ar,{children:[(0,r.jsx)(d.$y,{subtitle:"Add notifications"}),(0,r.jsxs)("div",{className:"lg:py-20 xl:py-32 xl:px-80",children:[(0,r.jsx)(d.l0.Item,{label:"How do you want to be notified when your website is down?",name:"notification-channel",children:(0,r.jsx)(d.Ph,{id:"notification-channel",value:u,onChange:function(e){return s("notificationChannel",e.target.value)},children:[{type:"email",label:"Email"},{type:"webhook",label:"Webhook"},{type:"slack",label:"Slack"},{type:"telegram",label:"Telegram"},{type:"whatsapp",label:"WhatsApp"},{type:"teams",label:"Microsoft Teams"},{type:"discord",label:"Discord"}].map((function(e){return(0,r.jsx)(d.$m,{value:e.type,children:e.label},e.type)}))})}),"email"===u&&(0,r.jsx)(v,{formHelper:n}),("webhook"===u||"slack"===u||"teams"===u||"discord"===u)&&(0,r.jsx)(h,{formHelper:n}),"telegram"===u&&(0,r.jsx)(f,{formHelper:n}),"whatsapp"===u&&(0,r.jsx)(x,{formHelper:n}),(0,r.jsxs)("div",{className:"mt-12 py-3",children:[(0,r.jsx)(d.zx,{onClick:function(){e.back()},outline:!0,className:"mr-7",children:"Back"}),(0,r.jsx)(d.zx,{onClick:function(){var n=function(e){var n=(0,o.Z)(),i=e.notificationChannel;switch(i){case"email":return function(e,n){var i;switch(null===n||void 0===n?void 0:n.emailService){case"smtp":return{id:e,type:null===n||void 0===n?void 0:n.emailService,data:{recipients:null===n||void 0===n?void 0:n.recipients.map((function(e){return e.email})),hostname:null===n||void 0===n?void 0:n.hostname,port:parseInt(null!==(i=null===n||void 0===n?void 0:n.port)&&void 0!==i?i:0),username:null===n||void 0===n?void 0:n.username,password:null===n||void 0===n?void 0:n.password}};case"mailgun":return{id:e,type:null===n||void 0===n?void 0:n.emailService,data:{recipients:null===n||void 0===n?void 0:n.recipients.map((function(e){return e.email})),apiKey:null===n||void 0===n?void 0:n.apiKey,domain:null===n||void 0===n?void 0:n.domain}};case"sendgrid":return{id:e,type:null===n||void 0===n?void 0:n.emailService,data:{recipients:null===n||void 0===n?void 0:n.recipients.map((function(e){return e.email})),apiKey:null===n||void 0===n?void 0:n.apiKey}}}}(n,e);case"webhook":case"slack":case"teams":case"discord":return{id:n,type:i,data:{url:null===e||void 0===e?void 0:e.url}};case"telegram":return{id:n,type:i,data:{group_id:null===e||void 0===e?void 0:e.group_id,bot_token:null===e||void 0===e?void 0:e.bot_token}};case"whatsapp":return{id:n,type:i,data:{recipients:null===e||void 0===e?void 0:e.recipients,url:null===e||void 0===e?void 0:e.url,username:null===e||void 0===e?void 0:e.username,password:null===e||void 0===e?void 0:e.password}}}}(t);i(n?[n]:[]),e.push("/download")},children:"Next"})]})]})]})}function v(e){var n=e.formHelper,i=n.values,a=n.setFieldValue,l=i.emailService,c=i.recipients,m=(null===c||void 0===c?void 0:c.length)>1;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.l0.Item,{label:"What is the e-mail address to receive the notification?",name:"recipients",children:[null===c||void 0===c?void 0:c.map((function(e){return(0,r.jsxs)("div",{className:"flex mb-2",children:[(0,r.jsx)(d.oi,{placeholder:"monika@example.com",value:e.email,type:"email",onChange:function(n){return i=e.id,r=n.target.value,void a("recipients",c.map((function(e){return e.id===i?{id:e.id,email:r}:e})));var i,r},className:m?"w-11/12":"w-full"}),m&&(0,r.jsx)(d.zx,{className:"items-center px-5",variant:"text",children:(0,r.jsx)(s.G,{size:"lg",icon:u.uMC,onClick:function(){return n=e.id,void a("recipients",c.filter((function(e){return e.id!==n})));var n}})})]},e.id)})),(0,r.jsx)(d.zx,{variant:"text",onClick:function(){a("recipients",c?[].concat((0,t.Z)(c),[{id:(0,o.Z)(),email:""}]):[{id:(0,o.Z)(),email:""}])},children:"Add another e-mail address"})]}),(0,r.jsxs)(d.l0.Item,{label:"How to send the e-mail?",name:"type",children:[(0,r.jsx)(d.Ph,{id:"type",value:l,onChange:function(e){return a("emailService",e.target.value)},children:[{type:"",label:"Select a method..."},{type:"smtp",label:"SMTP"},{type:"mailgun",label:"Mailgun"},{type:"sendgrid",label:"Sendgrid"}].map((function(e){return(0,r.jsx)(d.$m,{value:e.type,children:e.label},e.type)}))}),"smtp"===l&&(0,r.jsx)(g,{formHelper:n}),"mailgun"===l&&(0,r.jsx)(j,{formHelper:n}),"sendgrid"===l&&(0,r.jsx)(b,{formHelper:n})]})]})}function h(e){var n=e.formHelper,i=n.values,t=n.setFieldValue,a=i.url;return(0,r.jsx)(d.l0.Item,{label:"Webhook URL",name:"url",children:(0,r.jsx)(d.oi,{id:"url",value:a,type:"url",onChange:function(e){return t("url",e.target.value)}})})}function f(e){var n=e.formHelper,i=n.values,t=n.setFieldValue,a=i.group_id,l=i.bot_token;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.l0.Item,{label:"Group ID",name:"group_id",children:(0,r.jsx)(d.oi,{id:"group_id",value:a,onChange:function(e){return t("group_id",e.target.value)},placeholder:"-123456"})}),(0,r.jsx)(d.l0.Item,{label:"Bot Token",name:"bot_token",children:(0,r.jsx)(d.oi,{id:"bot_token",value:l,onChange:function(e){return t("bot_token",e.target.value)},placeholder:"abcdefg:hijklmnopqrstuvwxyz"})})]})}function x(e){var n=e.formHelper,i=n.values,a=n.setFieldValue,l=i.recipients,c=i.url,m=i.username,p=i.password,v=(null===l||void 0===l?void 0:l.length)>1;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.l0.Item,{label:"Recipient Number",name:"recipients",children:[null===l||void 0===l?void 0:l.map((function(e){return(0,r.jsxs)("div",{className:"flex mb-2",children:[(0,r.jsx)(d.oi,{value:e.number,type:"tel",onChange:function(n){return i=e.id,r=n.target.value,void a("recipients",l.map((function(e){return e.id===i?{id:e.id,number:r}:e})));var i,r},className:v?"w-11/12":"w-full"}),v&&(0,r.jsx)(d.zx,{className:"items-center px-5",variant:"text",children:(0,r.jsx)(s.G,{size:"lg",icon:u.uMC,onClick:function(){return n=e.id,void a("recipients",l.filter((function(e){return e.id!==n})));var n}})})]},e.id)})),(0,r.jsx)(d.zx,{variant:"text",onClick:function(){a("recipients",l?[].concat((0,t.Z)(l),[{id:(0,o.Z)(),number:""}]):[{id:(0,o.Z)(),number:""}])},children:"Add another Recipient Number"})]}),(0,r.jsx)(d.l0.Item,{label:"URL",name:"url",children:(0,r.jsx)(d.oi,{id:"url",value:c,type:"url",onChange:function(e){return a("url",e.target.value)}})}),(0,r.jsx)(d.l0.Item,{label:"Username",name:"username",children:(0,r.jsx)(d.oi,{id:"username",value:m,onChange:function(e){return a("username",e.target.value)}})}),(0,r.jsx)(d.l0.Item,{label:"Password",name:"password",children:(0,r.jsx)(d.oi,{id:"password",value:p,type:"password",onChange:function(e){return a("password",e.target.value)}})})]})}function g(e){var n=e.formHelper,i=n.values,t=n.setFieldValue,a=i.hostname,l=i.port,o=i.username,s=i.password;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.l0.Item,{children:(0,r.jsxs)("p",{className:"text-lg",children:["Provide your SMTP server configuration.",(0,r.jsx)("br",{}),"Check out our docs to see an"," ",(0,r.jsx)("a",{className:"underline",href:"https://hyperjumptech.github.io/monika/guides/notifications#example-using-gmail-smtp",target:"_blank",rel:"noreferrer noopenner",children:"example of using Gmail SMTP server"}),"."]})}),(0,r.jsx)(d.l0.Item,{label:"SMTP Hostname",name:"hostname",children:(0,r.jsx)(d.oi,{id:"hostname",value:a,onChange:function(e){return t("hostname",e.target.value)},placeholder:"smtp.example.com"})}),(0,r.jsx)(d.l0.Item,{label:"SMTP Port",name:"port",children:(0,r.jsx)(d.oi,{id:"port",value:l,type:"number",onChange:function(e){return t("port",e.target.value)},placeholder:"587"})}),(0,r.jsx)(d.l0.Item,{label:"SMTP Username",name:"username",children:(0,r.jsx)(d.oi,{id:"username",value:o,onChange:function(e){return t("username",e.target.value)},placeholder:"email@example.com"})}),(0,r.jsx)(d.l0.Item,{label:"SMTP Password",name:"password",children:(0,r.jsx)(d.oi,{id:"password",value:s,onChange:function(e){return t("password",e.target.value)},type:"password",placeholder:"super-secret-password"})})]})}function j(e){var n=e.formHelper,i=n.values,t=n.setFieldValue,a=i.apiKey,l=i.domain;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.l0.Item,{children:(0,r.jsxs)("p",{className:"text-lg",children:["Provide your Mailgun configuration.",(0,r.jsx)("br",{}),"You can get the API key and the domain from"," ",(0,r.jsx)("a",{href:"https://www.mailgun.com/",target:"_blank",rel:"noreferrer noopener",className:"underline",children:"Mailgun website"}),"."]})}),(0,r.jsx)(d.l0.Item,{label:"API Key",name:"apiKey",children:(0,r.jsx)(d.oi,{id:"apiKey",value:a,onChange:function(e){return t("apiKey",e.target.value)},type:"text",placeholder:"key-xxxx"})}),(0,r.jsx)(d.l0.Item,{label:"Domain",name:"domain",children:(0,r.jsx)(d.oi,{id:"domain",value:l,onChange:function(e){return t("domain",e.target.value)},type:"text",placeholder:"mailgun.com"})})]})}function b(e){var n=e.formHelper,i=n.values,t=n.setFieldValue,a=i.apiKey;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.l0.Item,{children:(0,r.jsxs)("p",{className:"text-lg",children:["Provide your Sendgrid configuration.",(0,r.jsx)("br",{}),"You can get the API key from"," ",(0,r.jsx)("a",{href:"https://sendgrid.com/",target:"_blank",rel:"noreferrer noopener",className:"underline",children:"Sendgrid website"}),"."]})}),(0,r.jsx)(d.l0.Item,{label:"API Key",name:"apiKey",children:(0,r.jsx)(d.oi,{id:"apiKey",value:a,onChange:function(e){return t("apiKey",e.target.value)},type:"apiKey",placeholder:"key-xxxx"})})]})}},4690:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notifications",function(){return i(8485)}])}},function(e){e.O(0,[774,523,112,394,107,888,179],(function(){return n=4690,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
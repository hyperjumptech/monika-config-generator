(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{8817:function(e,n,l){"use strict";l.r(n),l.d(n,{default:function(){return p}});var t=l(5893),a=l(7294),s=l(1277),r=l(1436),i=l(7625),d=l(7792),o=function(e){var n=e.probeId,l=e.alertIndex,o=e.alert,c=e.isDeleteDisabled,u=(0,a.useContext)(d.A8),x=u.handleUpdateProbeAlert,h=u.handleRemoveProbeAlert;return(0,t.jsxs)("div",{className:"w-auto p-4 lg:p-8 rounded-md bg-gray-900 bg-opacity-50 border border-solid border-gray-300 space-y-8",children:[(0,t.jsx)("div",{className:"flex justify-end",children:!c&&(0,t.jsx)("button",{type:"button",onClick:function(){return h(n,l)},children:(0,t.jsx)(i.G,{icon:r.$aW})})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"w-full flex flex-col lg:flex-row lg:items-center space-y-2 lg:space-y-0 lg:space-x-4",children:[(0,t.jsx)("span",{className:"block w-16",children:"Query"}),(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_alert_").concat(l,"_query_value"),type:"text",placeholder:"example: response.status == 500",className:"flex-1",value:o.query,onChange:function(e){return x(n,l,"query",e.target.value)}})]}),(0,t.jsx)("p",{className:"lg:ml-20 text-gray-500",children:"The alert will be triggered if the query expression is evaluated to true"})]}),(0,t.jsxs)("div",{className:"w-full flex flex-col lg:flex-row lg:items-center space-y-2 lg:space-y-0 lg:space-x-4",children:[(0,t.jsx)("span",{className:"block w-16",children:"Subject"}),(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_alert_").concat(l,"_subject_value"),type:"text",placeholder:"Subject of sent notification",className:"flex-1",value:o.subject,onChange:function(e){return x(n,l,"subject",e.target.value)}})]}),(0,t.jsxs)("div",{className:"w-full flex flex-col lg:flex-row lg:items-center space-y-2 lg:space-y-0 lg:space-x-4",children:[(0,t.jsx)("span",{className:"block w-16",children:"Message"}),(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_alert_").concat(l,"_message_value"),type:"text",placeholder:"Message of sent notification",className:"flex-1",value:o.message,onChange:function(e){return x(n,l,"message",e.target.value)}})]})]})},c=function(e){var n=e.probeId,l=e.request,o=e.requestIndex,c=e.requestArray,u=(0,a.useContext)(d.A8),x=u.handleAddProbeRequestHeader,h=u.handleUpdateProbeRequestPosition,f=u.handleUpdateProbeRequestData,m=u.handleUpdateProbeRequestBody,p=u.handleUpdateProbeRequestEnableBody,b=u.handleUpdateProbeRequestHeaderKey,j=u.handleUpdateProbeRequestHeaderValue,v=u.handleRemoveProbeRequestHeader,g=u.handleRemoveProbeRequest,y=function(e){try{return!!JSON.parse(e)}catch(n){return!1}};return(0,t.jsxs)("div",{className:"w-auto p-4 lg:p-8 rounded-md bg-gray-900 bg-opacity-50 border border-solid border-gray-300 space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-row align-middle justify-between",children:[(0,t.jsxs)("div",{className:"flex align-middle",children:["#",o+1]}),(0,t.jsxs)("div",{className:"flex align-middle space-x-4",children:[0!==o&&(0,t.jsx)("button",{type:"button",onClick:function(){return h(n,o,o-1)},children:(0,t.jsx)(i.G,{icon:r.FPD})}),o!==c.length-1&&(0,t.jsx)("button",{type:"button",onClick:function(){return h(n,o,o+1)},children:(0,t.jsx)(i.G,{icon:r.r5q})}),c.length>1&&(0,t.jsx)("button",{type:"button",onClick:function(){return g(n,o)},children:(0,t.jsx)(i.G,{icon:r.$aW})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2 lg:space-y-0 lg:flex-row lg:space-x-8",children:[(0,t.jsx)("div",{className:"flex-grow lg:w-8/12",children:(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_request_").concat(o,"_url"),placeholder:"https://github.com",value:l.url,onChange:function(e){return f({id:n,index:o,field:"url",value:e.target.value})}})}),(0,t.jsx)("div",{className:"flex-grow lg:w-4/12",children:(0,t.jsxs)(s.Ph,{id:"probe_".concat(n,"_method"),value:l.method,onChange:function(e){return f({id:n,index:o,field:"method",value:e.target.value})},children:[(0,t.jsx)(s.$m,{value:"GET",children:"GET"}),(0,t.jsx)(s.$m,{value:"POST",children:"POST"}),(0,t.jsx)(s.$m,{value:"PUT",children:"PUT"}),(0,t.jsx)(s.$m,{value:"PATCH",children:"PATCH"}),(0,t.jsx)(s.$m,{value:"DELETE",children:"DELETE"}),(0,t.jsx)(s.$m,{value:"OPTIONS",children:"OPTIONS"}),(0,t.jsx)(s.$m,{value:"HEAD",children:"HEAD"})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,t.jsx)("p",{children:"Headers"}),l.headers&&Object.keys(l.headers).map((function(e,a){return(0,t.jsxs)("div",{className:"flex flex-row space-x-8",children:[(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_request_").concat(o,"_headers_").concat(a),value:e,onChange:function(e){return b(n,o,a,e.target.value)}}),(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_request_").concat(o,"_headers_").concat(a,"_value"),value:l.headers[e],onChange:function(e){return j(n,o,a,e.target.value)}}),(0,t.jsx)("button",{type:"button",onClick:function(){return v(n,a)},children:(0,t.jsx)(i.G,{icon:r.$aW})})]},a)})),(0,t.jsx)("button",{type:"button",onClick:function(){return x(n,o)},className:"w-full border-4 border-dashed rounded-md p-4",children:(0,t.jsx)("p",{children:"Add header"})})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-8 flex-row",children:[(0,t.jsx)("p",{children:"Body"}),(0,t.jsx)("div",{className:"w-full sm:w-3/12",children:(0,t.jsxs)(s.Ph,{id:"probe_".concat(n,"_content_type"),onChange:function(e){return p(n,o,e.target.value)},defaultValue:y(JSON.stringify(null===l||void 0===l?void 0:l.body))?"JSON":"No Body",children:[(0,t.jsx)(s.$m,{value:"No Body",children:"No Body"}),(0,t.jsx)(s.$m,{value:"JSON",children:"JSON"})]})})]}),y(JSON.stringify(null===l||void 0===l?void 0:l.body))&&(0,t.jsx)(s.gx,{placeholder:"{ }",id:"probe_".concat(n,"_body"),onBlur:function(e){return function(e){try{JSON.parse(e)}catch(n){alert(n)}}(e.target.value)},value:JSON.stringify(l.body,null,2),onChange:function(e){return m({id:n,index:o,field:"body",value:e.target.value})},rows:5}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start space-x-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm sm:text-lg",children:"Timeout"}),(0,t.jsx)("p",{className:"text-sm sm:text-lg text-gray-500",children:"Milliseconds"})]}),(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_timeout"),type:"number",placeholder:"10",min:1,value:l.timeout,className:"w-full md:w-64",onChange:function(e){f({id:n,index:o,field:"timeout",value:e.target.value})}})]})]})]})},u=function(e){var n=e.probeId,l=(0,a.useContext)(d.A8).handleUpdateProbeData,r=(0,a.useState)(5),i=r[0],o=r[1];return(0,t.jsx)(s.oi,{id:"probe_".concat(n,"_threshold"),type:"number",placeholder:"5",value:i,onChange:function(e){return t=e.target.value,o(parseInt(t,10)),l({id:n,field:"incidentThreshold",value:t}),void l({id:n,field:"recoveryThreshold",value:t});var t}})},x=function(e){var n=e.probe,l=e.id,x=(0,a.useContext)(d.A8),h=x.probeData,f=x.handleAddProbeRequest,m=x.handleUpdateProbeData,p=x.handleRemoveProbe,b=x.handleAddProbeAlert;return(0,t.jsxs)("div",{className:"border border-solid rounded-md mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center rounded-t-md justify-between p-4 bg-gray-900 bg-opacity-50 border-b",children:[(0,t.jsxs)("p",{children:["Probe ID : ",null===l||void 0===l?void 0:l.split("-")[0]]}),h.length>1&&(0,t.jsx)("button",{onClick:function(){return p(l)},children:(0,t.jsx)(i.G,{icon:r.$aW})})]}),(0,t.jsx)("form",{children:(0,t.jsx)("fieldset",{className:"p-2 md:p-4",children:(0,t.jsxs)("div",{className:"space-y-8 flex flex-col",children:[(0,t.jsx)(s.oi,{label:"Name",id:"probe_".concat(l,"_name"),placeholder:"Home Page Probe",className:"w-full md:w-6/12",onChange:function(e){m({id:l,field:"name",value:e.target.value})},value:n.name}),(0,t.jsx)(s.oi,{label:"Description",id:"probe_".concat(l,"_description"),placeholder:"Probe for Checking Home Page Downtime",className:"w-full md:w-6/12",onChange:function(e){m({id:l,field:"description",value:e.target.value})},value:n.description}),(0,t.jsx)("p",{className:"text-sm sm:text-lg",children:"Requests"}),n.requests.map((function(e,n,a){return(0,t.jsx)(c,{probeId:l,request:e,requestIndex:n,requestArray:a},n)})),(0,t.jsx)("button",{type:"button",onClick:function(){return f(l)},className:"w-full border-4 border-dashed rounded-md p-4",children:(0,t.jsx)("p",{children:"Add another request"})}),(0,t.jsxs)("div",{className:"flex flex-col space-y-4 lg:space-y-8",children:[(0,t.jsx)("p",{className:"font-bold text-sm sm:text-lg",children:"Advanced"}),(0,t.jsx)("div",{className:"flex flex-col lg:flex-row items-center justify-start space-x-8",children:(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm sm:text-lg",children:"Interval"}),(0,t.jsx)("p",{className:"text-sm sm:text-lg text-gray-500",children:"(Seconds)"})]}),(0,t.jsx)(s.oi,{id:"probe_".concat(l,"_interval"),type:"number",placeholder:"10",value:n.interval,onChange:function(e){m({id:l,field:"interval",value:e.target.value})}})]})}),(0,t.jsxs)("div",{className:"flex flex-col space-y-2 lg:space-y-4",children:[(0,t.jsx)("p",{className:"text-sm sm:text-lg",children:"Notify on (at least 1):"}),n.alerts.map((function(e,n,a){return(0,t.jsx)(o,{probeId:l,alertIndex:n,alert:e,isDeleteDisabled:a.length<=1},n)}))]}),(0,t.jsx)("button",{type:"button",onClick:function(){return b(l)},className:"w-full border-4 border-dashed rounded-md p-4",children:(0,t.jsx)("p",{children:"Add another alert"})}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-start lg:space-x-8",children:[(0,t.jsx)("p",{className:"text-sm sm:text-lg",children:"Threshold"}),(0,t.jsx)(u,{probeId:l})]})]})]},l)})})]})},h=l(7874),f=l(1321),m=function(e){var n,l,d=e.id,o=e.type,c=(0,a.useContext)(h.u),u=c.notificationData,x=c.handleUpdateNotificationType,m=c.handleUpdateNotificationData,p=c.handleRemoveNotification;return(0,t.jsxs)("div",{className:"border border-solid rounded-md mb-8",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between p-4 bg-gray-900 bg-opacity-50 border-b",children:[(0,t.jsxs)("p",{children:["Notification ID : ",d.split("-")[0]]}),u.length>1&&(0,t.jsx)("button",{onClick:function(){return p(d)},children:(0,t.jsx)(i.G,{icon:r.$aW})})]}),(0,t.jsxs)("div",{className:"p-4 md:w-8/12 lg:w-6/12",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(s.Ph,{label:"Type",value:null===(n=u.find((function(e){return e.id===d})))||void 0===n?void 0:n.type,onChange:function(e){x({id:d,type:e.target.value})},children:f.m5.map((function(e){return(0,t.jsx)(s.$m,{value:e.name,children:e.label},e.name)}))})}),(0,t.jsx)("form",{children:(0,t.jsxs)("fieldset",{children:[null===f.m5||void 0===f.m5||null===(l=f.m5.find((function(e){return e.name===o})))||void 0===l?void 0:l.fields.map((function(e){var n,l=null===(n=u.find((function(e){return e.id===d})))||void 0===n?void 0:n.data;return(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(s.oi,{id:e.name,label:e.label,defaultValue:l[e.name],onChange:function(n){m({id:d,field:e.name,value:n.target.value})}})},e.name)})),"desktop"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"There are prerequisites for using Desktop notification:"}),(0,t.jsxs)("ul",{className:"list-disc ml-8",children:[(0,t.jsxs)("li",{children:["macOS: ",">="," 10.8 for native notifications, or Growl if earlier."]}),(0,t.jsx)("li",{children:"Linux: `notify-osd` or `libnotify-bin` installed (Ubuntu should have this by default)"}),(0,t.jsxs)("li",{children:["Windows: ",">="," 8, or task bar balloons for Windows ","<"," 8. Growl as fallback. Growl takes precedence over Windows balloons."]})]})]})]})})]})]})};function p(){var e=(0,a.useContext)(h.u),n=e.notificationData,l=e.handleAddNotification,r=(0,a.useContext)(d.A8),i=r.probeData,o=r.handleAddProbe,c=(0,a.useState)(!1),u=c[0],f=c[1],p=(0,a.useState)("Probe"),b=p[0],j=p[1];return(0,t.jsxs)(s.Ar,{children:[(0,t.jsx)(s.$y,{subtitle:"Advanced"}),(0,t.jsxs)("div",{className:"mb-5 flex justify-end",children:[(0,t.jsx)(s.zx,{onClick:function(){return f(!0)},children:"Generate Config File"}),(0,t.jsx)(s.SU,{visible:u,onClose:function(){return f(!1)}})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row space-x-0 space-y-8 md:space-y-0 md:space-x-8",children:[(0,t.jsx)("div",{className:"w-full md:w-3/12",children:(0,t.jsx)(s.YE,{menu:["Probe","Notification"],activeMenu:b,onMenuChange:function(e,n){return function(e,n){e.preventDefault(),j(n)}(e,n)}})}),(0,t.jsx)("div",{className:"w-full md:w-9/12",children:"Notification"===b?(0,t.jsxs)("div",{children:[n.map((function(e){return(0,t.jsx)(m,{id:e.id,type:e.type},e.id)})),(0,t.jsx)("button",{onClick:l,className:"w-full border-4 border-dashed rounded-md p-4",children:(0,t.jsx)("p",{children:"Add another notification"})})]}):"Probe"===b?(0,t.jsxs)("div",{children:[i.map((function(e){return(0,t.jsx)(x,{probe:e,id:e.id},e.id)})),(0,t.jsx)("button",{onClick:o,className:"w-full border-4 border-dashed rounded-md p-4",children:(0,t.jsx)("p",{children:"Add another probe"})})]}):(0,t.jsx)(t.Fragment,{children:"Nothing to render"})})]})]})}},6040:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/advanced",function(){return l(8817)}])}},function(e){e.O(0,[774,523,799,277,888,179],(function(){return n=6040,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
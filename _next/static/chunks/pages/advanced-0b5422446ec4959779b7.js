(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{8556:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var l=t(5893),r=t(7294),s=t(3107),a=t(1436),i=t(7625),d=t(7792),o=t(1772),c=function(e){var n=e.probeId,t=e.alert,a=e.defaultChecked,i=e.disabled,o=(0,r.useContext)(d.A).handleUpdateProbeResponseTimeAlert,c=(0,r.useState)(0),u=c[0],x=c[1],h=(0,r.useState)(!0),f=h[0],m=h[1];(0,r.useEffect)((function(){if(t){var e=function(e){var n=e.match(/(\d+)-(m?s)$/);if(!n)throw new Error("alert string does not contain valid time number");var t=Number(n[1]);return"s"===n[2]?1e3*t:t}(t);x(e)}}),[t]);var p=function(e,n,t){x(n),m(t),o(e,n,t)};return(0,l.jsx)(s.XZ,{name:"probe_".concat(n,"_response_time"),value:"response-time",label:"Response time is longer than",description:"Milliseconds",defaultChecked:a,checked:!0,disabled:i,onChange:function(e){return p(n,u,e.target.checked)},children:(0,l.jsx)("div",{className:"flex flex-col lg:flex-row align-middle items-center space-x-4",children:(0,l.jsx)(s.oi,{id:"probe_".concat(n,"_response_time_value"),type:"number",placeholder:"2000",className:"w-full md:w-64",value:u,disabled:!f,onChange:function(e){return p(n,e.target.valueAsNumber,f)}})})})},u=function(e){var n=e.probeId,t=(0,r.useContext)(d.A).handleUpdateProbeData,a=(0,r.useState)(5),i=a[0],o=a[1];return(0,l.jsx)(s.oi,{id:"probe_".concat(n,"_threshold"),type:"number",placeholder:"5",value:i,onChange:function(e){return l=e.target.value,o(parseInt(l,10)),t({id:n,field:"incidentThreshold",value:l}),void t({id:n,field:"recoveryThreshold",value:l});var l}})},x=function(e){var n=e.probeId,t=e.request,o=e.requestIndex,c=e.requestArray,u=(0,r.useContext)(d.A),x=u.handleAddProbeRequestHeader,h=u.handleUpdateProbeRequestPosition,f=u.handleUpdateProbeRequestData,m=u.handleUpdateProbeRequestBody,p=u.handleUpdateProbeRequestEnableBody,v=u.handleUpdateProbeRequestHeaderKey,b=u.handleUpdateProbeRequestHeaderValue,j=u.handleRemoveProbeRequestHeader,g=u.handleRemoveProbeRequest,N=function(e){try{return!!JSON.parse(e)}catch(n){return!1}};return(0,l.jsxs)("div",{className:"w-auto p-4 lg:p-8 rounded-md bg-gray-900 bg-opacity-50 border border-solid border-gray-300 space-y-8",children:[(0,l.jsxs)("div",{className:"flex flex-row align-middle justify-between",children:[(0,l.jsxs)("div",{className:"flex align-middle",children:["#",o+1]}),(0,l.jsxs)("div",{className:"flex align-middle space-x-4",children:[0!==o&&(0,l.jsx)("button",{type:"button",onClick:function(){return h(n,o,o-1)},children:(0,l.jsx)(i.G,{icon:a.FPD})}),o!==c.length-1&&(0,l.jsx)("button",{type:"button",onClick:function(){return h(n,o,o+1)},children:(0,l.jsx)(i.G,{icon:a.r5q})}),c.length>1&&(0,l.jsx)("button",{type:"button",onClick:function(){return g(n,o)},children:(0,l.jsx)(i.G,{icon:a.$aW})})]})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2 lg:space-y-0 lg:flex-row lg:space-x-8",children:[(0,l.jsx)("div",{className:"flex-grow lg:w-8/12",children:(0,l.jsx)(s.oi,{id:"probe_".concat(n,"_request_").concat(o,"_url"),placeholder:"https://github.com",value:t.url,onChange:function(e){return f({id:n,index:o,field:"url",value:e.target.value})}})}),(0,l.jsx)("div",{className:"flex-grow lg:w-4/12",children:(0,l.jsxs)(s.Ph,{id:"probe_".concat(n,"_method"),value:t.method,onChange:function(e){return f({id:n,index:o,field:"method",value:e.target.value})},children:[(0,l.jsx)(s.$m,{value:"GET",children:"GET"}),(0,l.jsx)(s.$m,{value:"POST",children:"POST"}),(0,l.jsx)(s.$m,{value:"PUT",children:"PUT"}),(0,l.jsx)(s.$m,{value:"PATCH",children:"PATCH"}),(0,l.jsx)(s.$m,{value:"DELETE",children:"DELETE"}),(0,l.jsx)(s.$m,{value:"OPTIONS",children:"OPTIONS"}),(0,l.jsx)(s.$m,{value:"HEAD",children:"HEAD"})]})})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,l.jsx)("p",{children:"Headers"}),t.headers&&Object.keys(t.headers).map((function(e,r){return(0,l.jsxs)("div",{className:"flex flex-row space-x-8",children:[(0,l.jsx)(s.oi,{id:"probe_".concat(n,"_request_").concat(o,"_headers_").concat(r),value:e,onChange:function(e){return v(n,o,r,e.target.value)}}),(0,l.jsx)(s.oi,{id:"probe_".concat(n,"_request_").concat(o,"_headers_").concat(r,"_value"),value:t.headers[e],onChange:function(e){return b(n,o,r,e.target.value)}}),(0,l.jsx)("button",{type:"button",onClick:function(){return j(n,r)},children:(0,l.jsx)(i.G,{icon:a.$aW})})]},r)})),(0,l.jsx)("button",{type:"button",onClick:function(){return x(n,o)},className:"w-full border-4 border-dashed rounded-md p-4",children:(0,l.jsx)("p",{children:"Add header"})})]}),(0,l.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-8 flex-row",children:[(0,l.jsx)("p",{children:"Body"}),(0,l.jsx)("div",{className:"w-full sm:w-3/12",children:(0,l.jsxs)(s.Ph,{id:"probe_".concat(n,"_content_type"),onChange:function(e){return p(n,o,e.target.value)},defaultValue:N(JSON.stringify(null===t||void 0===t?void 0:t.body))?"JSON":"No Body",children:[(0,l.jsx)(s.$m,{value:"No Body",children:"No Body"}),(0,l.jsx)(s.$m,{value:"JSON",children:"JSON"})]})})]}),N(JSON.stringify(null===t||void 0===t?void 0:t.body))&&(0,l.jsx)(s.gx,{placeholder:"{ }",id:"probe_".concat(n,"_body"),onBlur:function(e){return function(e){try{JSON.parse(e)}catch(n){alert(n)}}(e.target.value)},value:JSON.stringify(t.body,null,2),onChange:function(e){return m({id:n,index:o,field:"body",value:e.target.value})},rows:5}),(0,l.jsxs)("div",{className:"flex flex-row items-center justify-start space-x-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm sm:text-lg",children:"Timeout"}),(0,l.jsx)("p",{className:"text-sm sm:text-lg text-gray-500",children:"Milliseconds"})]}),(0,l.jsx)(s.oi,{id:"probe_".concat(n,"_timeout"),type:"number",placeholder:"10",min:1,value:t.timeout,className:"w-full md:w-64",onChange:function(e){f({id:n,index:o,field:"timeout",value:e.target.value})}})]})]})]})},h=function(e){var n,t,h,f,m,p=e.probe,v=e.id,b=(0,r.useContext)(d.A),j=b.probeData,g=b.handleAddProbeRequest,N=b.handleUpdateProbeData,y=b.handleUpdateProbeAlert,w=b.handleRemoveProbe,_=function(e){return p.alerts.filter((function(n){return n.includes(e)})).length>0};return(0,l.jsxs)("div",{className:"border border-solid rounded-md mb-8",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center rounded-t-md justify-between p-4 bg-gray-900 bg-opacity-50 border-b",children:[(0,l.jsxs)("p",{children:["Probe ID : ",null===v||void 0===v?void 0:v.split("-")[0]]}),j.length>1&&(0,l.jsx)("button",{onClick:function(){return w(v)},children:(0,l.jsx)(i.G,{icon:a.$aW})})]}),(0,l.jsx)("form",{children:(0,l.jsx)("fieldset",{className:"p-2 md:p-4",children:(0,l.jsxs)("div",{className:"space-y-8 flex flex-col",children:[(0,l.jsx)(s.oi,{label:"Name",id:"probe_".concat(v,"_name"),placeholder:"Home Page Probe",className:"w-full md:w-6/12",onChange:function(e){N({id:v,field:"name",value:e.target.value})},value:p.name}),(0,l.jsx)(s.oi,{label:"Description",id:"probe_".concat(v,"_description"),placeholder:"Probe for Checking Home Page Downtime",className:"w-full md:w-6/12",onChange:function(e){N({id:v,field:"description",value:e.target.value})},value:p.description}),(0,l.jsx)("p",{className:"text-sm sm:text-lg",children:"Requests"}),p.requests.map((function(e,n,t){return(0,l.jsx)(x,{probeId:v,request:e,requestIndex:n,requestArray:t},n)})),(0,l.jsx)("button",{type:"button",onClick:function(){return g(v)},className:"w-full border-4 border-dashed rounded-md p-4",children:(0,l.jsx)("p",{children:"Add another request"})}),(0,l.jsxs)("div",{className:"flex flex-col space-y-4 lg:space-y-8",children:[(0,l.jsx)("p",{className:"font-bold text-sm sm:text-lg",children:"Advanced"}),(0,l.jsx)("div",{className:"flex flex-col lg:flex-row items-center justify-start space-x-8",children:(0,l.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm sm:text-lg",children:"Interval"}),(0,l.jsx)("p",{className:"text-sm sm:text-lg text-gray-500",children:"(Seconds)"})]}),(0,l.jsx)(s.oi,{id:"probe_".concat(v,"_interval"),type:"number",placeholder:"10",value:p.interval,onChange:function(e){N({id:v,field:"interval",value:e.target.value})}})]})}),(0,l.jsxs)("div",{className:"flex flex-col space-y-2 lg:space-y-4",children:[(0,l.jsx)("p",{className:"text-sm sm:text-lg",children:"Notify on (at least 1):"}),(0,l.jsx)(o.Z,{name:"probe_".concat(v,"_status_not_2xx"),value:"status-not-2xx",disabled:(null===(n=p.alerts)||void 0===n?void 0:n.length)<2&&_("status-not-2xx"),label:" Status Code not 2XX",description:"Checks if status code is not 2xx (200-299)",defaultChecked:!(null===p||void 0===p||null===(t=p.alerts)||void 0===t||!t.find((function(e){return"status-not-2xx"===e}))),onChange:function(e){return y(v,"status-not-2xx",e.target.checked)}}),(0,l.jsx)(c,{probeId:v,alert:null===p||void 0===p||null===(h=p.alerts)||void 0===h?void 0:h.find((function(e){return e.includes("response-time-greater-than-")})),disabled:(null===(f=p.alerts)||void 0===f?void 0:f.length)<2&&_("response-time-greater-than"),defaultChecked:!(null===p||void 0===p||null===(m=p.alerts)||void 0===m||!m.find((function(e){return e.includes("response-time-greater-than-")})))})]}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-start lg:space-x-8",children:[(0,l.jsx)("p",{className:"text-sm sm:text-lg",children:"Threshold"}),(0,l.jsx)(u,{probeId:v})]})]})]},v)})})]})},f=t(7874),m=t(1321),p=function(e){var n,t,d=e.id,o=e.type,c=(0,r.useContext)(f.u),u=c.notificationData,x=c.handleUpdateNotificationType,h=c.handleUpdateNotificationData,p=c.handleRemoveNotification;return(0,l.jsxs)("div",{className:"border border-solid rounded-md mb-8",children:[(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between p-4 bg-gray-900 bg-opacity-50 border-b",children:[(0,l.jsxs)("p",{children:["Notification ID : ",d.split("-")[0]]}),u.length>1&&(0,l.jsx)("button",{onClick:function(){return p(d)},children:(0,l.jsx)(i.G,{icon:a.$aW})})]}),(0,l.jsxs)("div",{className:"p-4 md:w-8/12 lg:w-6/12",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(s.Ph,{label:"Type",value:null===(n=u.find((function(e){return e.id===d})))||void 0===n?void 0:n.type,onChange:function(e){x({id:d,type:e.target.value})},children:m.m5.map((function(e){return(0,l.jsx)(s.$m,{value:e.name,children:e.label},e.name)}))})}),(0,l.jsx)("form",{children:(0,l.jsxs)("fieldset",{children:[null===m.m5||void 0===m.m5||null===(t=m.m5.find((function(e){return e.name===o})))||void 0===t?void 0:t.fields.map((function(e){var n,t=null===(n=u.find((function(e){return e.id===d})))||void 0===n?void 0:n.data;return(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(s.oi,{id:e.name,label:e.label,defaultValue:t[e.name],onChange:function(n){h({id:d,field:e.name,value:n.target.value})}})},e.name)})),"desktop"===o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"There are prerequisites for using Desktop notification:"}),(0,l.jsxs)("ul",{className:"list-disc ml-8",children:[(0,l.jsxs)("li",{children:["macOS: ",">="," 10.8 for native notifications, or Growl if earlier."]}),(0,l.jsx)("li",{children:"Linux: `notify-osd` or `libnotify-bin` installed (Ubuntu should have this by default)"}),(0,l.jsxs)("li",{children:["Windows: ",">="," 8, or task bar balloons for Windows ","<"," 8. Growl as fallback. Growl takes precedence over Windows balloons."]})]})]})]})})]})]})};function v(){var e=(0,r.useContext)(f.u),n=e.notificationData,t=e.handleAddNotification,a=(0,r.useContext)(d.A),i=a.probeData,o=a.handleAddProbe,c=(0,r.useState)(!1),u=c[0],x=c[1],m=(0,r.useState)("Probe"),v=m[0],b=m[1];return(0,l.jsxs)(s.Ar,{children:[(0,l.jsx)(s.$y,{subtitle:"Advanced"}),(0,l.jsxs)("div",{className:"mb-5 flex justify-end",children:[(0,l.jsx)(s.zx,{onClick:function(){return x(!0)},children:"Generate Config File"}),(0,l.jsx)(s.SU,{visible:u,onClose:function(){return x(!1)}})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row space-x-0 space-y-8 md:space-y-0 md:space-x-8",children:[(0,l.jsx)("div",{className:"w-full md:w-3/12",children:(0,l.jsx)(s.YE,{menu:["Probe","Notification"],activeMenu:v,onMenuChange:function(e,n){return function(e,n){e.preventDefault(),b(n)}(e,n)}})}),(0,l.jsx)("div",{className:"w-full md:w-9/12",children:"Notification"===v?(0,l.jsxs)("div",{children:[n.map((function(e){return(0,l.jsx)(p,{id:e.id,type:e.type},e.id)})),(0,l.jsx)("button",{onClick:t,className:"w-full border-4 border-dashed rounded-md p-4",children:(0,l.jsx)("p",{children:"Add another notification"})})]}):"Probe"===v?(0,l.jsxs)("div",{children:[i.map((function(e){return(0,l.jsx)(h,{probe:e,id:e.id},e.id)})),(0,l.jsx)("button",{onClick:o,className:"w-full border-4 border-dashed rounded-md p-4",children:(0,l.jsx)("p",{children:"Add another probe"})})]}):(0,l.jsx)(l.Fragment,{children:"Nothing to render"})})]})]})}},6040:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/advanced",function(){return t(8556)}])}},function(e){e.O(0,[774,523,394,107,888,179],(function(){return n=6040,e(e.s=n);var n}));var n=e.O();_N_E=n}]);